<app-loading *ngIf="loading(); else page" />
<ng-template #page>
  <app-header-title
    hTitle="Plataformas"
    hDescription="Listado de todas las plataformas con sus saldos del dÃ­a"
    [hDescriptionSecondLine]="description"
  />
  <div
    class="w-full flex flex-col md:grid md:grid-cols-[20rem_minmax(20rem,_1fr)] items-start gap-6"
  >
    <article class="card w-full">
      <app-platform-balance-list />
    </article>
    <article class="card flex items-center w-full">
      <div class="w-full">
        <header class="h-12 mb-2 flex items-center justify-center">
          <h3
            class="text-lg sm:text-xl md:text-2xl text-gray-800 font-semibold"
          >
            {{
              selectedPortalPlatform()?.platformName ??
                "Selecciona una plataforma"
            }}
          </h3>
        </header>
        <ng-container *ngIf="selectedPortalPlatform()">
          <section>
            <app-update-platform-balances-form *ngIf="editing()" />
            <app-platform-balance-info *ngIf="!editing()" />
          </section>
          <div class="divider-md my-3"></div>
          <footer class="w-full px-2.5">
            <header class="mb-1">
              <h2
                class="text-gray-700 text-sm sm:text-base md:text-lg font-medium"
              >
                Nueva transferencia
              </h2>
            </header>
            <app-new-platform-transfer-form />
          </footer>
        </ng-container>
      </div>
    </article>
  </div>
</ng-template>
