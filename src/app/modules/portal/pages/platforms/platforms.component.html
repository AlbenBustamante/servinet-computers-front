<app-header-title
  hTitle="Plataformas"
  hDescription="Listado de todas las plataformas con sus saldos del día"
  hDescriptionSecondLine="Eres libre de editarlos y añadir transferencias"
></app-header-title>
<section class="w-full grid grid-cols-3 gap-x-5">
  <article class="card col-span-1">
    <app-platform-balance-list></app-platform-balance-list>
  </article>
  <article class="card col-span-2 flex items-center w-full">
    <div class="w-full">
      <header class="h-12 mb-2 flex items-center justify-center">
        <h3 class="text-2xl text-gray-800 font-semibold">
          {{
            selectedPlatformBalance()?.platformName ??
              "Selecciona una plataforma"
          }}
        </h3>
      </header>
      <ng-container *ngIf="selectedPlatformBalance()">
        <section>
          <app-update-platform-balances-form
            *ngIf="editing()"
          ></app-update-platform-balances-form>
          <app-platform-balance-info
            *ngIf="!editing()"
          ></app-platform-balance-info>
        </section>
        <div class="divider-md my-3"></div>
        <footer class="w-full px-2.5">
          <header class="mb-1">
            <h2 class="text-gray-700 text-lg font-medium">
              Nueva transferencia
            </h2>
          </header>
          <form
            class="w-full flex flex-wrap justify-between items-center gap-3"
            [formGroup]="transferForm"
            (ngSubmit)="onTransferSubmit()"
          >
            <div>
              <label
                for="voucher"
                class="px-3 py-2 border border-gray-300 bg-gray-50 rounded-lg text-gray-700 text-sm cursor-pointer"
                >{{
                  voucherPicked()
                    ? voucherPicked()?.name
                    : "Adjuntar comprobante"
                }}</label
              >
              <input
                type="file"
                id="voucher"
                class="sr-only"
                (change)="onVoucherPicked($event)"
              />
            </div>
            <input
              type="number"
              id="transfer-value"
              placeholder="10000"
              class="input"
              formControlName="value"
            />
            <button
              type="submit"
              class="cursor-pointer text-cyan-700 text-lg hover:text-cyan-600 hover:underline hover:underline-offset-2"
            >
              Añadir transferencia
            </button>
          </form>
        </footer>
      </ng-container>
    </div>
  </article>
</section>
